import os
import time
from colorama import Fore, Style
import platform
from dotenv import load_dotenv, find_dotenv

dotenv_file = find_dotenv()
if dotenv_file:
    load_dotenv(dotenv_file)
else:
    print("The .env file could not be found.")

class I18N:
    def __init__(self):
        self.platform = platform.system()
        self.install_drive = os.getenv("INSTALL_DRIVE", "C:\\")
        if self.platform == "Windows":
            self.log_path = os.path.join(self.install_drive, "marutalauncher", "log", "MarutaLauncher.log")
        else:
            user_home = os.path.expanduser('~')
            self.log_path = os.path.join(user_home, "marutalauncher", "log", "MarutaLauncher.log")

        self.language = os.getenv('SCRIPT_LANGUAGE', 'English') 
        self.messages = {
            'steamcmd_installed': {
                "한국어": "[마루타 구동기] 시스템에 이미 SteamCMD가 설치되어 있습니다.",
                "English": "[Maruta Launcher] SteamCMD is already installed on the system.",
                "日本語": "[マルタ ランチャー] システムにはすでに SteamCMD がインストールされています。",
                '中文(简体': "[Maruta启动器] 系统中已安装了 SteamCMD。",
                '中文(繁體)': "[Maruta啟動器] 系統中已安裝了 SteamCMD。",
                'Español': "[Lanzador de Maruta] SteamCMD ya está instalado en el sistema.",
                'Français': "[Lanceur Maruta] SteamCMD est déjà installé sur le système.",
                'Deutsch': "[Maruta Launcher] SteamCMD ist bereits im System installiert.",
                'Русский': "[Лаунчер Маруты] SteamCMD уже установлен в системе.",
                'Português': "[Iniciador Maruta] O SteamCMD já está instalado no sistema.",
                "Italiano": "[Launcher Maruta] SteamCMD è già installato nel sistema.",
                "Tiếng Việt": "[Trình khởi chạy Maruta] SteamCMD đã được cài đặt trên hệ thống.",
                "ไทย": "[เริ่มต้น Maruta] SteamCMD ได้ถูกติดตั้งบนระบบแล้ว",
                "Bahasa Indonesia": "[Penggerak Maruta] SteamCMD sudah terpasang di sistem.",
                "हिन्दी": "[Maruta लॉन्चर] सिस्टम पर पहले से ही SteamCMD स्थापित है।",
                "العربية": "[مطلق Maruta] تم تثبيت SteamCMD بالفعل على النظام.",
                "Filipino": "[Launcher ng Maruta] Naka-install na ang SteamCMD sa system.",
                "Nederlands": "[Maruta Launcher] SteamCMD is al geïnstalleerd op het systeem.",
                "Svenska": "[Maruta Launcher] SteamCMD är redan installerat på systemet.",
                "Norsk": "[Maruta Launcher] SteamCMD er allerede installert på systemet.",
                "Suomi": "[Maruta Launcher] SteamCMD on jo asennettu järjestelmään.",
                "Dansk": "[Maruta Launcher] SteamCMD er allerede installeret på systemet.",
                "Polski": "[Maruta Launcher] SteamCMD jest już zainstalowany w systemie.",
                "Čeština": "[Maruta Launcher] SteamCMD je již nainstalován v systému.",
                "Magyar": "[Maruta indító] A SteamCMD már telepítve van a rendszerben.",
                "Română": "[Lansator Maruta] SteamCMD este deja instalat în sistem.",
                "Ελληνικά": "[Εκκινητής Maruta] Το SteamCMD είναι ήδη εγκατεστημένο στο σύστημα.",
                "Türkçe": "[Maruta Başlatıcı] SteamCMD zaten sistemde yüklü.",
                "עברית": "[מפעיל Maruta] SteamCMD כבר מותקן במערכת.",
                "فارسی": "[راه‌انداز Maruta] SteamCMD در سیستم قبلاً نصب شده است.",
                "ქართული": "[Maruta ლანჩერი] SteamCMD უკვე დაყენებულია სისტემაში."
            },

            'game_installed': {
                "한국어": "[마루타 구동기] 시스템에 이미 {game} 설치되어 있습니다.",
                "English": "[Maruta Launcher] The game {game} is already installed on the system.",
                "日本語": "[マルタ ランチャー] システムにはすでに{game}がインストールされています。",
                '中文(简体': "[Maruta启动器] 系统中已安装了{game}。",
                '中文(繁體)': "[Maruta啟動器] 系統中已安裝了{game}。",
                'Español': "[Lanzador de Maruta] El juego {game} ya está instalado en el sistema.",
                'Français': "[Lanceur Maruta] Le jeu {game} est déjà installé sur le système.",
                'Deutsch': "[Maruta Launcher] Das Spiel {game} ist bereits im System installiert.",
                'Русский': "[Лаунчер Маруты] Игра {game} уже установлена в системе.",
                'Português': "[Iniciador Maruta] O jogo {game} já está instalado no sistema.",
                "Italiano": "[Launcher Maruta] Il gioco {game} è già installato nel sistema.",
                "Tiếng Việt": "[Trình khởi chạy Maruta] Trò chơi {game} đã được cài đặt trên hệ thống.",
                "ไทย": "[เริ่มต้น Maruta] เกม {game} ได้ถูกติดตั้งบนระบบแล้ว",
                "Bahasa Indonesia": "[Penggerak Maruta] Permainan {game} sudah terpasang di sistem.",
                "हिन्दी": "[Maruta लॉन्चर] खेल {game} सिस्टम पर पहले से ही स्थापित है।",
                "العربية": "[مطلق Maruta] اللعبة {game} مثبتة بالفعل على النظام.",
                "Filipino": "[Launcher ng Maruta] Ang laro na {game} ay naka-install na sa system.",
                "Nederlands": "[Maruta Launcher] Het spel {game} is al geïnstalleerd op het systeem.",
                "Svenska": "[Maruta Launcher] Spelet {game} är redan installerat på systemet.",
                "Norsk": "[Maruta Launcher] Spillet {game} er allerede installert på systemet.",
                "Suomi": "[Maruta Launcher] Peli {game} on jo asennettu järjestelmään.",
                "Dansk": "[Maruta Launcher] Spillet {game} er allerede installeret på systemet.",
                "Polski": "[Maruta Launcher] Gra {game} jest już zainstalowana w systemie.",
                "Čeština": "[Maruta Launcher] Hra {game} je již nainstalována v systému.",
                "Magyar": "[Maruta indító] A(z) {game} játék már telepítve van a rendszerben.",
                "Română": "[Lansator Maruta] Jocul {game} este deja instalat în sistem.",
                "Ελληνικά": "[Εκκινητής Maruta] Το παιχνίδι {game} είναι ήδη εγκατεστημένο στο σύστημα.",
                "Türkçe": "[Maruta Başlatıcı] Oyun {game} zaten sistemde yüklü.",
                "עברית": "[מפעיל Maruta] המשחק {game} כבר מותקן במערכת.",
                "فارسی": "[راه‌انداز Maruta] بازی {game} در سیستم قبلاً نصب شده است.",
                "ქართული": "[Maruta ლანჩერი] თამაში {game} უკვე დაყენებულია სისტემაში."
            },
            'error': {
                "한국어": "[마루타 구동기] 오류 발생: {error}",
                "English": "[Maruta Launcher] Error occurred: {error}",
                "日本語": "[マルタ ランチャー] エラーが発生しました: {error}",
                '中文(简体': "[Maruta启动器] 出现错误：{error}",
                '中文(繁體)': "[Maruta啟動器] 發生錯誤：{error}",
                'Español': "[Lanzador de Maruta] Error ocurrió: {error}",
                'Français':"[Lanceur Maruta] Une erreur s'est produite : {error}",
                'Deutsch':"[Maruta Launcher] Fehler aufgetreten: {error}",
                'Русский':"[Лаунчер Маруты] Произошла ошибка: {error}",
                'Português':"[Iniciador Maruta] Ocorreu um erro: {error}",
                "Italiano":"[Launcher Maruta] Si è verificato un errore: {error}",
                "Tiếng Việt":"[Trình khởi chạy Maruta] Đã xảy ra lỗi: {error}",
                "ไทย":"[เริ่มต้น Maruta] มีข้อผิดพลาด: {error}",
                "Bahasa Indonesia":"[Penggerak Maruta] Kesalahan terjadi: {error}",
                "हिन्दी":"[Maruta लॉन्चर] त्रुटि हुई: {error}",
                "العربية":"[مطلق Maruta] حدث خطأ: {error}",
                "Filipino":"[Launcher ng Maruta] May naganap na error: {error}",
                "Nederlands":"[Maruta Launcher] Fout opgetreden: {error}",
                "Svenska":"[Maruta Launcher] Fel uppstod: {error}",
                "Norsk":"[Maruta Launcher] Feil oppstod: {error}",
                "Suomi":"[Maruta Launcher] Virhe tapahtui: {error}",
                "Dansk":"[Maruta Launcher] Fejl opstod: {error}",
                "Polski":"[Maruta Launcher] Wystąpił błąd: {error}",
                "Čeština":"[Maruta Launcher] Došlo k chybě: {error}",
                "Magyar":"[Maruta indító] Hiba történt: {error}",
                "Română":"[Lansator Maruta] A apărut o eroare: {error}",
                "Ελληνικά":"[Εκκινητής Maruta] Σφάλμα προέκυψε: {error}",
                "Türkçe":"[Maruta Başlatıcı] Hata oluştu: {error}",
                "עברית":"[מפעיל Maruta] אירעה שגיאה: {error}",
                "فارسی":"[راه‌انداز Maruta] خطا رخ داد: {error}",
                "ქართული":"[Maruta ლანჩერი] მოხდა შეცდომა: {error}"
            },
            'file_not_found': {
                "한국어": "[마루타 구동기] 파일 {file}을(를) 찾을 수 없습니다.",
                "English": "[Maruta Launcher] Unable to find file {file}.",
                "日本語": "[マルタ ランチャー] ファイル {file} が見つかりません。",
                '中文(简体': "[Maruta启动器] 找不到文件 {file}。",
                '中文(繁體)': "[Maruta啟動器] 找不到檔案 {file}。",
                'Español': "[Lanzador de Maruta] No se puede encontrar el archivo {file}.",
                'Français':"[Lanceur Maruta] Impossible de trouver le fichier {file}.",
                'Deutsch':"[Maruta Launcher] Die Datei {file} konnte nicht gefunden werden.",
                'Русский':"[Лаунчер Маруты] Не удалось найти файл {file}.",
                'Português':"[Iniciador Maruta] Não foi possível encontrar o arquivo {file}.",
                "Italiano":"[Launcher Maruta] Impossibile trovare il file {file}.",
                "Tiếng Việt":"[Trình khởi chạy Maruta] Không thể tìm thấy tệp {file}.",
                "ไทย":"[เริ่มต้น Maruta] ไม่สามารถค้นหาไฟล์ {file} ได้",
                "Bahasa Indonesia":"[Penggerak Maruta] Tidak dapat menemukan file {file}.",
                "हिन्दी":"[Maruta लॉन्चर] फ़ाइल {file} नहीं मिल सकी।",
                "العربية":"[مطلق Maruta] تعذر العثور على الملف {file}.",
                "Filipino":"[Launcher ng Maruta] Hindi mahanap ang file na {file}.",
                "Nederlands":"[Maruta Launcher] Kan bestand {file} niet vinden.",
                "Svenska":"[Maruta Launcher] Kunde inte hitta filen {file}.",
                "Norsk":"[Maruta Launcher] Kunne ikke finne filen {file}.",
                "Suomi":"[Maruta Launcher] Tiedostoa {file} ei löydy.",
                "Dansk":"[Maruta Launcher] Kunne ikke finde filen {file}.",
                "Polski":"[Maruta Launcher] Nie można odnaleźć pliku {file}.",
                "Čeština":"[Maruta Launcher] Nelze najít soubor {file}.",
                "Magyar":"[Maruta indító] Nem található a fájl {file}.",
                "Română":"[Lansator Maruta] Nu se poate găsi fișierul {file}.",
                "Ελληνικά":"[Εκκινητής Maruta] Δεν ήταν δυνατή η εύρεση του αρχείου {file}.",
                "Türkçe":"[Maruta Başlatıcı] Dosya {file} bulunamadı.",
                "עברית":"[מפעיל Maruta] לא ניתן למצוא את הקובץ {file}.",
                "فارسی":"[راه‌انداز Maruta] فایل {file} پیدا نشد.",
                "ქართული":"[Maruta ლანჩერი] ფაილი {file} ვერ მოიძებნა."
            },
            'reading_file': {
                "한국어": "[마루타 구동기] 파일을 읽는 도중 오류 발생: {error}",
                "English": "[Maruta Launcher] Error occurred while reading the file: {error}",
                "日本語": "[マルタ ランチャー] ファイルの読み取り中にエラーが発生しました: {error}",
                '中文(简体': "[Maruta启动器] 读取文件时发生错误：{error}",
                '中文(繁體)': "[Maruta啟動器] 讀取檔案時發生錯誤：{error}",
                'Español': "[Lanzador de Maruta] Se produjo un error al leer el archivo: {error}",
                'Français':"[Lanceur Maruta] Une erreur s'est produite lors de la lecture du fichier : {error}",
                'Deutsch':"[Maruta Launcher] Fehler beim Lesen der Datei aufgetreten: {error}",
                'Русский':"[Лаунчер Маруты] Произошла ошибка при чтении файла: {error}",
                'Português':"[Iniciador Maruta] Ocorreu um erro ao ler o arquivo: {error}",
                "Italiano":"[Launcher Maruta] Si è verificato un errore durante la lettura del file: {error}",
                "Tiếng Việt":"[Trình khởi chạy Maruta] Đã xảy ra lỗi khi đọc tệp: {error}",
                "ไทย":"[เริ่มต้น Maruta] มีข้อผิดพลาดในขณะอ่านไฟล์: {error}",
                "Bahasa Indonesia":"[Penggerak Maruta] Terjadi kesalahan saat membaca file: {error}",
                "हिन्दी":"[Maruta लॉन्चर] फ़ाइल पढ़ते समय त्रुटि हुई: {error}",
                "العربية":"[مطلق Maruta] حدث خطأ أثناء قراءة الملف: {error}",
                "Filipino":"[Launcher ng Maruta] May naganap na error habang binabasa ang file: {error}",
                "Nederlands":"[Maruta Launcher] Fout opgetreden tijdens het lezen van het bestand: {error}",
                "Svenska":"[Maruta Launcher] Fel uppstod vid läsning av filen: {error}",
                "Norsk":"[Maruta Launcher] Feil oppstod under lesing av filen: {error}",
                "Suomi":"[Maruta Launcher] Virhe tapahtui tiedoston lukemisen aikana: {error}",
                "Dansk":"[Maruta Launcher] Fejl opstod under læsning af filen: {error}",
                "Polski":"[Maruta Launcher] Wystąpił błąd podczas czytania pliku: {error}",
                "Čeština":"[Maruta Launcher] Během čtení souboru došlo k chybě: {error}",
                "Magyar":"[Maruta indító] Hiba történt a fájl olvasása közben: {error}",
                "Română":"[Lansator Maruta] A apărut o eroare în timpul citirii fișierului: {error}",
                "Ελληνικά":"[Εκκινητής Maruta] Σφάλμα κατά την ανάγνωση του αρχείου: {error}",
                "Türkçe":"[Maruta Başlatıcı] Dosya okunurken hata oluştu: {error}",
                "עברית":"[מפעיל Maruta] אירעה שגיאה בעת קריאת הקובץ: {error}",
                "فارسی":"[راه‌انداز Maruta] خطا هنگام خواندن فایل رخ داد: {error}",
                "ქართული":"[Maruta ლანჩერი] შეცდომა მოხდა ფაილის წაკითხვის დროს: {error}"
            },
            'not_build': {
                "한국어": "[마루타 구동기] appmanifest_{id}.acf 파일에서 빌드 ID를 찾을 수 없습니다.",
                "English": "[Maruta Launcher] Unable to find build ID in appmanifest_{id}.acf file.",
                "日本語": "[マルタ ランチャー] appmanifest_{id}.acf ファイルでビルド ID を見つけられません。",
                '中文(简体': "[Maruta启动器] 在 appmanifest_{id}.acf 文件中找不到构建 ID。",
                '中文(繁體)': "[Maruta啟動器] 在 appmanifest_{id}.acf 檔案中找不到建構 ID。",
                'Español': "[Lanzador de Maruta] No se puede encontrar el ID de compilación en el archivo appmanifest_{id}.acf.",
                'Français':"[Lanceur Maruta] Impossible de trouver l'ID de construction dans le fichier appmanifest_{id}.acf.",
                'Deutsch':"[Maruta Launcher] Die Build-ID konnte nicht in der Datei appmanifest_{id}.acf gefunden werden.",
                'Русский':"[Лаунчер Маруты] Не удалось найти идентификатор сборки в файле appmanifest_{id}.acf.",
                'Português':"[Iniciador Maruta] Não foi possível encontrar o ID de compilação no arquivo appmanifest_{id}.acf.",
                "Italiano":"[Launcher Maruta] Impossibile trovare l'ID di build nel file appmanifest_{id}.acf.",
                "Tiếng Việt":"[Trình khởi chạy Maruta] Không thể tìm thấy ID xây dựng trong tệp appmanifest_{id}.acf.",
                "ไทย":"[เริ่มต้น Maruta] ไม่สามารถหา ID ของการสร้างในไฟล์ appmanifest_{id}.acf ได้",
                "Bahasa Indonesia":"[Penggerak Maruta] Tidak dapat menemukan ID pembangunan di file appmanifest_{id}.acf.",
                "हिन्दी":"[Maruta लॉन्चर] appmanifest_{id}.acf फ़ाइल में निर्माण ID नहीं मिल सका।",
                "العربية":"[مطلق Maruta] لا يمكن العثور على معرف البناء في ملف appmanifest_{id}.acf.",
                "Filipino":"[Launcher ng Maruta] Hindi mahanap ang ID ng build sa file appmanifest_{id}.acf.",
                "Nederlands":"[Maruta Launcher] Kan de build-ID niet vinden in het bestand appmanifest_{id}.acf.",
                "Svenska":"[Maruta Launcher] Kan inte hitta bygg-ID i appmanifest_{id}.acf-filen.",
                "Norsk":"[Maruta Launcher] Kan ikke finne bygg-ID i appmanifest_{id}.acf-filen.",
                "Suomi":"[Maruta Launcher] Rakennustunnusta ei löydy tiedostosta appmanifest_{id}.acf.",
                "Dansk":"[Maruta Launcher] Kan ikke finde bygnings-ID i appmanifest_{id}.acf-filen.",
                "Polski":"[Maruta Launcher] Nie można znaleźć identyfikatora budowy w pliku appmanifest_{id}.acf.",
                "Čeština":"[Maruta Launcher] Nelze najít identifikátor sestavení v souboru appmanifest_{id}.acf.",
                "Magyar":"[Maruta indító] Nem található az építési azonosító az appmanifest_{id}.acf fájlban.",
                "Română":"[Lansator Maruta] Imposibil de găsit ID-ul construcției în fișierul appmanifest_{id}.acf.",
                "Ελληνικά":"[Εκκινητής Maruta] Δεν είναι δυνατή η εύρεση του αναγνωριστικού κατασκευής στο αρχείο appmanifest_{id}.acf.",
                "Türkçe":"[Maruta Başlatıcı] appmanifest_{id}.acf dosyasında yapı kimliği bulunamadı.",
                "עברית":"[מפעיל Maruta] לא ניתן למצוא את זיהוי הבנייה בקובץ appmanifest_{id}.acf.",
                "فارسی":"[راه‌انداز Maruta] نتوانست به شناسه ساخت در فایل appmanifest_{id}.acf برسد.",
                "ქართული":"[Maruta ლანჩერი] შეცდომა: ვერ მოიძებნა აღნიშვნა ფაილში appmanifest_{id}.acf."
            },
            'steamdb_data': {
                "한국어": "[마루타 구동기] SteamDB에서 데이터를 가져오는 데 실패했습니다: 상태 코드 {status_code}",
                "English": "[Maruta Launcher] Failed to retrieve data from SteamDB: status code {status_code}",
                "日本語": "[マルタ ランチャー] SteamDB からデータを取得できませんでした: ステータスコード {status_code}",
                '中文(简体': "[Maruta启动器] 无法从SteamDB检索数据：状态码{status_code}",
                '中文(繁體)': "[Maruta啟動器] 無法從SteamDB檢索數據：狀態碼{status_code}",
                'Español': "[Lanzador de Maruta] No se pudo recuperar datos de SteamDB: código de estado {status_code}",
                'Français':"[Lanceur Maruta] Impossible de récupérer les données de SteamDB : code d'état {status_code}",
                'Deutsch':"[Maruta Launcher] Abrufen von Daten von SteamDB fehlgeschlagen: Statuscode {status_code}",
                'Русский':"[Лаунчер Маруты] Не удалось получить данные из SteamDB: код состояния {status_code}",
                'Português':"[Iniciador Maruta] Falha ao recuperar dados do SteamDB: código de status {status_code}",
                "Italiano":"[Launcher Maruta] Impossibile recuperare i dati da SteamDB: codice di stato {status_code}",
                "Tiếng Việt":"[Trình khởi chạy Maruta] Không thể lấy dữ liệu từ SteamDB: mã trạng thái {status_code}",
                "ไทย":"[เริ่มต้น Maruta] ไม่สามารถเรียกดูข้อมูลจาก SteamDB ได้: รหัสสถานะ {status_code}",
                "Bahasa Indonesia":"[Penggerak Maruta] Gagal mengambil data dari SteamDB: kode status {status_code}",
                "हिन्दी":"[Maruta लॉन्चर] SteamDB से डेटा प्राप्त करने में विफल: स्थिति कोड {status_code}",
                "العربية":"[مطلق Maruta] فشل استرداد البيانات من SteamDB: رمز الحالة {status_code}",
                "Filipino":"[Launcher ng Maruta] Hindi nakakuha ng data mula sa SteamDB: code ng status {status_code}",
                "Nederlands":"[Maruta Launcher] Gegevens ophalen van SteamDB mislukt: statuscode {status_code}",
                "Svenska":"[Maruta Launcher] Det gick inte att hämta data från SteamDB: statuskod {status_code}",
                "Norsk":"[Maruta Launcher] Klarte ikke å hente data fra SteamDB: statuskode {status_code}",
                "Suomi":"[Maruta Launcher] Tietojen hakeminen SteamDB:stä epäonnistui: tilakoodi {status_code}",
                "Dansk":"[Maruta Launcher] Kunne ikke hente data fra SteamDB: statuskode {status_code}",
                "Polski":"[Maruta Launcher] Nie udało się pobrać danych z SteamDB: kod statusu {status_code}",
                "Čeština":"[Maruta Launcher] Nepodařilo se načíst data ze SteamDB: kód stavu {status_code}",
                "Magyar":"[Maruta indító] Nem sikerült adatokat lekérni a SteamDB-ről: állapotkód {status_code}",
                "Română":"[Lansator Maruta] Nu s-a putut prelua datele de la SteamDB: cod de stare {status_code}",
                "Ελληνικά":"[Εκκινητής Maruta] Αποτυχία ανάκτησης δεδομένων από το SteamDB: κωδικός κατάστασης {status_code}",
                "Türkçe":"[Maruta Başlatıcı] SteamDB'den veri alınamadı: durum kodu {status_code}",
                "עברית":"[מפעיל Maruta] נכשל בשליפת נתונים מתוך SteamDB: קוד מצב {status_code}",
                "فارسی":"[راه‌انداز Maruta] دریافت اطلاعات از SteamDB ناموفق بود: کد وضعیت {status_code}",
                "ქართული":"[Maruta ლანჩერი] ინფორმაციის მიღება SteamDB-დან ჩამოწერაში ვერ მოხერხდა: სტატუსის კოდი {status_code}"
            },


            'messages': {
                "한국어": "",
                "English": "",
                "日本語": "",
                '中文(简体': "",
                '中文(繁體)': "",
                'Español': "",
                'Français':"",
                'Deutsch':"",
                'Русский':"",
                'Português':"",
                "Italiano":"",
                "Tiếng Việt": "",
                "ไทย": "",
                "Bahasa Indonesia": "",
                "हिन्दी": "",
                "العربية": "",
                "Filipino": "",
                "Nederlands": "",
                "Svenska": "",
                "Norsk": "",
                "Suomi": "",
                "Dansk": "",
                "Polski": "",
                "Čeština": "",
                "Magyar": "",
                "Română": "",
                "Ελληνικά": "",
                "Türkçe": "",
                "עברית": "",
                "فارسی": "",
                "ქართული": ""
            },
        }

    def log(self, message_key, level='INFO', **kwargs):
        message_template = self.messages.get(message_key, {}).get(self.language, 'Message key or language not found')
        message = message_template.format(**kwargs)  # 메시지 템플릿에 매개변수 치환

        level = level.upper()
        current_time = time.strftime("%Y-%m-%d %H:%M:%S", time.localtime())
        console_color = Fore.MAGENTA if level == "ERROR" else Fore.YELLOW if level == "WARNING" else Fore.CYAN
        console_formatted_message = f"{current_time} {console_color}[{level}]{Style.RESET_ALL} {message}"
        print(console_formatted_message)

        os.makedirs(os.path.dirname(self.log_path), exist_ok=True)
        file_formatted_message = f"{current_time} [{level}] {message}\n"
        with open(self.log_path, "a", encoding='utf-8') as file:
            file.write(file_formatted_message)